import numpy as np
import pandas as pd

def data_load():
	columns=['size', 'max_sdk', 'min_sdk', 'target_sdk', 'android_version', 'activity_num', 'service_num', 'receiver_num', 'provider_num', 'permission_num', 'malware']
	count=0
	csvlist=[]
	listx=[]
	listy=[]
	lists=[]
	with open('fuck_nor_feature') as f:
		for line in f:
			count += 1
			x=[]
			line = line.split("<sep>")
               		x.append(int(line[0]))
#			x.append((int(line[0])/1000*0.99)+0.01)
			for i in range(1,10):
#				x.append(len(line[i].split(",")))
				x.append(len(line[i].split(","))/1000*0.9999+0.01)
				csvlist.append(len(line[i].split(",")))
			s={0:x}
			lists.append(s)
			csvlist.append(0)
	with open('mal_feature') as f:
	       	for line in f:
	                count += 1
        	        x=[]
        	        line = line.split("<sep>")
               		x.append(int(line[0]))
#			x.append((int(line[0])/100*0.99)+0.01)
			for i in range(1,10):
				x.append(len(line[i].split(","))/1000*0.9999+0.01)
#				x.append(len(line[i].split(",")))
				csvlist.append(len(line[i].split(",")))
			s={1:x}
			lists.append(s)
			csvlist.append(1)
	
	lists=np.array(lists)
	np.random.shuffle(lists)
	for i in lists:
		#print "*"*0x20
		#print i.values()
		#print i.keys()
		#print "*"*0x20
		listx.append(i.values()[0])
		listy.append(i.keys()[0])

	return (np.array(listx)[:3000], np.array(listy)[:3000]), (np.array(listx)[999:], np.array(listy)[999:])
	#return (np.array(listx)[:1000], np.array(listy)[:1000]), (np.array(listx)[999:], np.array(listy)[999:])
